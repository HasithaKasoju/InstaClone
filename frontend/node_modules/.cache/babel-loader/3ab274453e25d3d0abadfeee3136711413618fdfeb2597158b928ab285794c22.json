{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import logo from'../img/logo.png';import{useNavigate}from'react-router-dom';import{LoginContext}from'../context/LoginContext';import'../css/SignIn.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){const{setUserLogin}=useContext(LoginContext);// State to track if input fields are focused\nconst[userName,setUserName]=useState(\"\");const[password,setPassword]=useState(\"\");const navigate=useNavigate();const postData=async()=>{try{// Send POST request to sign-in endpoint\nconst response=await fetch(\"/SignIn\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:userName,password:password})});// Parse response JSON\nconst data=await response.json();// Check if response is successful\nif(response.ok){alert(\"Successfully Logged In\");console.log(data.token);// Save JWT to local storage\nlocalStorage.setItem(\"jwt\",data.token);localStorage.setItem('user',JSON.stringify(data.user));setUserLogin(true);// Navigate to Home page\nnavigate(\"/Home\");}else{// Handle errors (e.g., wrong credentials)\nconsole.error(\"Error logging in:\",data);alert(data.error||\"Login failed. Please try again.\");}}catch(error){// Catch and log any network or other errors\nconsole.error(\"An error occurred:\",error);alert(\"An error occurred. Please try again.\");}};const handleSubmit=e=>{e.preventDefault();// Prevent default form submission behavior\npostData();// Call postData function\n};return/*#__PURE__*/_jsx(\"div\",{className:\"SignIn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"SignIn-logo\",src:logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loginPara\",children:\"SignIn to access your account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",id:\"username\",value:userName,placeholder:\"Username\",onChange:e=>setUserName(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,placeholder:\"Password\",onChange:e=>setPassword(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"submit-btn\",value:\"SignIn\"})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/SignUp\",children:\"SignUp\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","logo","useNavigate","LoginContext","jsx","_jsx","jsxs","_jsxs","SignIn","setUserLogin","userName","setUserName","password","setPassword","navigate","postData","response","fetch","method","headers","body","JSON","stringify","username","data","json","ok","alert","console","log","token","localStorage","setItem","user","error","handleSubmit","e","preventDefault","className","children","src","alt","onSubmit","type","name","id","value","placeholder","onChange","target","required","to"],"sources":["C:/Users/Administrator/Desktop/ha/backend/frontend/src/Screens/SignIn.js"],"sourcesContent":["import React, { useState ,useEffect,useContext} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../img/logo.png';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { LoginContext} from '../context/LoginContext';\r\nimport '../css/SignIn.css'; \r\nexport default function SignIn() {\r\n  const {setUserLogin}=useContext(LoginContext)\r\n  // State to track if input fields are focused\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n \r\n  const postData = async () => {\r\n    try {\r\n      // Send POST request to sign-in endpoint\r\n      const response = await fetch(\"/SignIn\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          username: userName,\r\n          password: password\r\n        })\r\n      });\r\n  \r\n      // Parse response JSON\r\n      const data = await response.json();\r\n  \r\n      // Check if response is successful\r\n      if (response.ok) {\r\n        alert(\"Successfully Logged In\");\r\n        console.log(data.token);\r\n  \r\n        // Save JWT to local storage\r\n        localStorage.setItem(\"jwt\", data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        setUserLogin(true);\r\n        // Navigate to Home page\r\n        navigate(\"/Home\");\r\n      } else {\r\n        // Handle errors (e.g., wrong credentials)\r\n        console.error(\"Error logging in:\", data);\r\n        alert(data.error || \"Login failed. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      // Catch and log any network or other errors\r\n      console.error(\"An error occurred:\", error);\r\n      alert(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault(); // Prevent default form submission behavior\r\n    postData(); // Call postData function\r\n  };\r\n  \r\n  return (\r\n    <div className=\"SignIn\">\r\n      <div className=\"form-container\">\r\n        <img className=\"SignIn-logo\" src={logo} alt=\"Logo\" />\r\n        <p className=\"loginPara\">SignIn to access your account</p>\r\n        <form onSubmit={handleSubmit}> \r\n          <div className=\"input-group\">\r\n            <input type=\"text\" name=\"username\" id=\"username\" value={userName} placeholder=\"Username\" onChange={(e) => setUserName(e.target.value)} required />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input type=\"password\" name=\"password\" id=\"password\" value={password} placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} required />\r\n          </div>\r\n         \r\n          <div className=\"input-group\">\r\n            <input type=\"submit\" id=\"submit-btn\" value=\"SignIn\" />\r\n          </div>\r\n        </form>\r\n        <p>Don't have an account? <Link to=\"/SignUp\">SignUp</Link></p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}